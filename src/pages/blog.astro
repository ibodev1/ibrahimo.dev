---
import { getCollection } from 'astro:content';
import Layout from '@/layouts/main.astro';
import PageHeader from '@/components/PageHeader.astro';
import BlogCard from '@/components/BlogCard.astro';

const allBlogPosts = await getCollection('blog');
const sortedBlogs = allBlogPosts.sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf());
---

<Layout
  title="Blog - Ibrahim | Full Stack Development Insights"
  description="Thoughts on technology, development, and software engineering. Insights about React, Next.js, Node.js, TypeScript, and modern web development."
>
  <!-- Main Content -->
  <div class="container mx-auto max-w-4xl px-4 py-16">
    <PageHeader title="Blog" description="Thoughts on technology, development, and software engineering" />

    <!-- Blog Posts Grid -->
    <div class="grid gap-6">
      {
        sortedBlogs.map((blog) => (
          <BlogCard
            title={blog.data.title}
            description={blog.data.description}
            publishDate={blog.data.publishDate}
            tags={blog.data.tags}
            slug={blog.slug}
          />
        ))
      }
    </div>
  </div>
</Layout>
